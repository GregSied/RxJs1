<html>
<head>
    <title>RxJs</title>
</head>
<body>
<h1>Rxjs</h1>
<script>


    const t2 = [
        {
            name: 'Pawel', age: 32, favorites: [
            'rybki', 'programowanie', 'alkohol'
        ]
        },
        {
            name: 'Karol', age: 17, favorites: [
            'matematyka', 'grzybki', 'alkohol'
        ]
        },
        {
            name: 'Tomek', age: 67, favorites: [
            'filmy', 'napady', 'narkotyki'
        ]
        },
        {
            name: 'Kasia', age: 12, favorites: [
            'koty', 'gry', 'alkohol'
        ]
        },
        {
            name: 'Ania', age: 4, favorites: [
            'rybki', 'koty', 'wolnomularstwo'
        ]
        },
        {
            name: 'Roman', age: 2, favorites: [
            'roboty', 'niespanie', 'prace'
        ]
        },
    ];

    // tablica imoin co pija alko
    // 1. iterowanie po wszystkich obiektach map()
    // 2. wejsc do favorites a) po kluczu b) czy element jest tablica
    // 3. przefiltrowac tablice w poszukiwaniu alko
    // 4. jezeli zawiera to zwrocic imie

    // nie filter tylko map
    const t4 = t2.map(function(e){
        let temp = e.favorites.filter(function(element){
            return element === 'alkohol';
        });
        return temp.length > 0 ? e.name : -1;
    }).filter(function(e){
        return e !== -1;
    })

    const t5 = t2.map(e => {
        let temp = e.favorites.filter(e => e === 'alkohol');
        return temp.length > 0 ? e.name : -1;
    }).filter(e => e !== -1);

    const t6 = t2.map(e => {
        let temp = e.favorites.filter(e => e === 'rybki');
        return temp.length > 0 && e.age < 18 ? e.name : -1;
    }).filter(e => e !== -1 );


</script>
</body>
</html>